#pragma once

#ifndef __QBUUPDATETRACKER_H__
#define __QBUUPDATETRACKER_H__

/////////////////////////////////////////////////////////////////////////////////////////

class qbuUpdateTracker
{
public:
	qbuUpdateTracker(bool bChanged=false);
public:
	virtual bool Modify();
	virtual bool HasChanged();
	virtual bool ForceUnmodified();
private:
	bool	m_bChanged;
};

/////////////////////////////////////////////////////////////////////////////////////////

inline qbuUpdateTracker::qbuUpdateTracker(bool bChanged) : m_bChanged(bChanged)
{

}

/////////////////////////////////////////////////////////////////////////////////////////

inline bool qbuUpdateTracker::Modify()
{
	bool retVal = HasChanged();
	m_bChanged = true;
	return retVal;
}

/////////////////////////////////////////////////////////////////////////////////////////

inline bool qbuUpdateTracker::HasChanged()
{
	return m_bChanged;
}

/////////////////////////////////////////////////////////////////////////////////////////

inline bool qbuUpdateTracker::ForceUnmodified()
{
	bool retVal = HasChanged();
	m_bChanged = false;
	return retVal;
}

/////////////////////////////////////////////////////////////////////////////////////////

#endif // __QBUUPDATETRACKER_H__
